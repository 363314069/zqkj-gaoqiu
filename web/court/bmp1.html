<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script src="js/GeoUtils.js"></script>
	<body>
		<canvas id="canvas"width="300"height="300">
			
		</canvas>
		<script>
			//ocation lat 纬度坐标 lng 经度坐标 
			//lat Y  lng x
			
			//var data = [{"type":"polyline","point":[{"lat":39.953294004517765,"lng":116.48028626120775},{"lat":39.95415342820247,"lng":116.48370605359386},{"lat":39.95281057391148,"lng":116.48377584527522},{"lat":39.951897417813534,"lng":116.48566022067165},{"lat":39.9507962426456,"lng":116.48761438774942},{"lat":39.9498993991735,"lng":116.48824251288156},{"lat":39.94791487503697,"lng":116.48848678376629},{"lat":39.9471359511796,"lng":116.48702115845795},{"lat":39.94375155751575,"lng":116.49078990925081},{"lat":39.942596527404035,"lng":116.49072011756945},{"lat":39.940181626642264,"lng":116.4908597009322},{"lat":39.93980555270709,"lng":116.48768417943081},{"lat":39.93969810262868,"lng":116.48283365757705},{"lat":39.93983241520013,"lng":116.47992926674641},{"lat":39.941282974039005,"lng":116.47951051665832},{"lat":39.94399215389649,"lng":116.48161923418438},{"lat":39.94763772112644,"lng":116.48134905192465},{"lat":39.95161279574505,"lng":116.48047665590781},{"lat":39.953250803284064,"lng":116.48023238502309}]},{"type":"rectangle","point":{"sw":{"lat":39.93991671951577,"lng":116.4912526413394},"ne":{"lat":39.94854086943281,"lng":116.49599422334012},"minX":116.4912526413394,"minY":39.93991671951577,"maxX":116.49599422334012,"maxY":39.94854086943281}},{"type":"polygon","point":[{"lat":39.95576245775458,"lng":116.48975360835061},{"lat":39.95567181187412,"lng":116.48739797794029},{"lat":39.954488698444095,"lng":116.48512800227246},{"lat":39.95383150072944,"lng":116.4846568761904},{"lat":39.95238111083411,"lng":116.48592302753593},{"lat":39.951973183090196,"lng":116.48742474192251},{"lat":39.94932159298019,"lng":116.48925035549051},{"lat":39.94903941214586,"lng":116.49581419308436},{"lat":39.95096579933294,"lng":116.49549029390295},{"lat":39.95415347537365,"lng":116.49578991127706},{"lat":39.95458405186254,"lng":116.49537767595525},{"lat":39.95467469919625,"lng":116.49364039852765}]},{"type":"circle","point":{"lat":39.959480361524285,"lng":116.49105497102254,"radius":402}}]
			//ctx.fillStyle = "#FFFFFF";
			//var data =[{"type":"polyline","point":[{"lat":40.04457416601725,"lng":116.38686160391754},{"lat":40.04808129008309,"lng":116.37543571760958},{"lat":40.05515064929347,"lng":116.37543571760958},{"lat":40.06575330230471,"lng":116.40188183182333},{"lat":40.05868505174149,"lng":116.41452997340382},{"lat":40.0533833787795,"lng":116.4030316628761},{"lat":40.05426701981062,"lng":116.39268318340115},{"lat":40.0489650004024,"lng":116.398432338665},{"lat":40.043662565270104,"lng":116.39153335234838}]},{"type":"rectangle","point":{"sw":{"lat":40.04353204649892,"lng":116.40382188762311},"ne":{"lat":40.05229955269093,"lng":116.41621165605991},"minX":116.40382188762311,"minY":40.04353204649892,"maxX":116.41621165605991,"maxY":40.05229955269093}},{"type":"polygon","point":[{"lat":40.04242102329115,"lng":116.39202472504945},{"lat":40.04221345524334,"lng":116.38964828189565},{"lat":40.041341662487014,"lng":116.38791995960199},{"lat":40.03957728562461,"lng":116.38735285384939},{"lat":40.041943724998625,"lng":116.38656600946761},{"lat":40.04140404294134,"lng":116.38491870228147},{"lat":40.042089023278365,"lng":116.38327139509532},{"lat":40.041570099417584,"lng":116.37886957425381},{"lat":40.041819183367586,"lng":116.37886957425381},{"lat":40.03667126200516,"lng":116.37176724982831},{"lat":40.03355740976541,"lng":116.36990390235545},{"lat":40.029989174034064,"lng":116.37272721657502},{"lat":40.02643902047722,"lng":116.37834426402941},{"lat":40.0238451654157,"lng":116.38488334205934},{"lat":40.02791165551578,"lng":116.38334086431634},{"lat":40.03020178122832,"lng":116.38991597105108},{"lat":40.029246790471745,"lng":116.39388571131936},{"lat":40.02972428753467,"lng":116.39920570337952},{"lat":40.03123979937351,"lng":116.40025807643084},{"lat":40.03391781265301,"lng":116.40303959512221},{"lat":40.03769591469816,"lng":116.40514598791759},{"lat":40.03768831350667,"lng":116.3935370070564},{"lat":40.03999243726181,"lng":116.39337497684136}]},{"type":"circle","point":{"lat":40.042717155402016,"lng":116.39836649103215,"radius":366}}];
			//var data = [{"type":"rectangle","point":{"sw":{"lat":40.04901378768745,"lng":116.06479983943217},"ne":{"lat":40.06668555618903,"lng":116.08779646048761},"minX":116.06479983943217,"minY":40.04901378768745,"maxX":116.08779646048761,"maxY":40.06668555618903}},{"type":"circle","point":{"lat":40.05830372962481,"lng":116.09904929639376,"radius":805}},{"type":"polygon","point":[{"lat":40.04368004888395,"lng":116.06389492440209},{"lat":40.04594786666526,"lng":116.06639157483052},{"lat":40.04777951013112,"lng":116.07093093924583},{"lat":40.045424530849424,"lng":116.08704568292019},{"lat":40.03574208784894,"lng":116.08670523058905},{"lat":40.0313801743069,"lng":116.08216586617371},{"lat":40.033822880533464,"lng":116.0776265017584},{"lat":40.03035501799532,"lng":116.07305404893847},{"lat":40.03115445184375,"lng":116.06800309457682},{"lat":40.03754958262772,"lng":116.06473482998987},{"lat":40.03949084201495,"lng":116.06176368036537},{"lat":40.042284430916276,"lng":116.06219266274636},{"lat":40.04368004888395,"lng":116.06389492440209}]},{"type":"polyline","point":[{"lat":40.043941790128436,"lng":116.09113111089391},{"lat":40.04603515479926,"lng":116.09567047530922},{"lat":40.046558485843285,"lng":116.10089074438682},{"lat":40.04446513737034,"lng":116.10350087892562},{"lat":40.041063307914555,"lng":116.1075863068994},{"lat":40.040563708876704,"lng":116.10742687456738},{"lat":40.03725822316586,"lng":116.10694906468868},{"lat":40.033208758309556,"lng":116.10493270506234},{"lat":40.03216188560145,"lng":116.09744275377707},{"lat":40.03390666445011,"lng":116.09176854825795},{"lat":40.040710872064544,"lng":116.09063370715411},{"lat":40.04367659455205,"lng":116.0900662866022}]}];
			//var data = [{"type":"polyline","point":[{"lat":40.01015804793081,"lng":116.20828483517671},{"lat":40.01212291394959,"lng":116.2080009291394},{"lat":40.01343279295457,"lng":116.2080009291394},{"lat":40.01452433943549,"lng":116.20672335197149},{"lat":40.01539669421504,"lng":116.20530382178492},{"lat":40.01626990747893,"lng":116.20331647952374},{"lat":40.01670650988758,"lng":116.2027486674491},{"lat":40.01561499858683,"lng":116.2017549963185},{"lat":40.01659735954937,"lng":116.19948374802},{"lat":40.017798003591054,"lng":116.19806421783343},{"lat":40.01976264791189,"lng":116.1989159359454},{"lat":40.020090083088824,"lng":116.19990960707598},{"lat":40.021181522240134,"lng":116.20090327820658},{"lat":40.02216380243028,"lng":116.2017549963185},{"lat":40.02292778827896,"lng":116.20445210367298},{"lat":40.02380090440446,"lng":116.2060135868782},{"lat":40.024674009267265,"lng":116.20771702310209},{"lat":40.024674009267265,"lng":116.21098194253119},{"lat":40.02445573410744,"lng":116.21311123781103},{"lat":40.02325520814587,"lng":116.21481467403491},{"lat":40.022054660890845,"lng":116.2165181102588},{"lat":40.01987179314685,"lng":116.21850545251998},{"lat":40.0192169190975,"lng":116.22091865383716},{"lat":40.01801630022006,"lng":116.22418357326626},{"lat":40.01670650988758,"lng":116.22759044571401},{"lat":40.01561499858683,"lng":116.2295777879752},{"lat":40.01539669421504,"lng":116.23071341212444},{"lat":40.014414315831324,"lng":116.22986169401253},{"lat":40.0122312017252,"lng":116.22886802288193},{"lat":40.011139618276864,"lng":116.22744849269534},{"lat":40.010702979970446,"lng":116.22645482156474},{"lat":40.00917472372627,"lng":116.22617091552743},{"lat":40.00873807275033,"lng":116.22546115043416},{"lat":40.00786476235213,"lng":116.22460943232223},{"lat":40.00688227469295,"lng":116.22361576119162},{"lat":40.00600894036375,"lng":116.22233818402371},{"lat":40.00436462213812,"lng":116.22133626565294},{"lat":40.00250870424104,"lng":116.22218798376487},{"lat":40.00130778909232,"lng":116.22389141998876},{"lat":39.99912425245719,"lng":116.22502704413802},{"lat":39.998578357301206,"lng":116.22346556093278},{"lat":39.997814096692714,"lng":116.22346556093278},{"lat":39.99661309831712,"lng":116.22516899715666},{"lat":39.995630447446814,"lng":116.22758219847384},{"lat":39.99377429025103,"lng":116.22857586960443},{"lat":39.99115374646638,"lng":116.22829196356712},{"lat":39.991044554942675,"lng":116.22559485621264},{"lat":39.99213646226213,"lng":116.22460118508205},{"lat":39.9926824093238,"lng":116.22232993678354},{"lat":39.993337539991536,"lng":116.21977478244771},{"lat":39.99464778232443,"lng":116.21934892339175},{"lat":39.996285549610576,"lng":116.2175035341492},{"lat":39.99846917774213,"lng":116.21679376905593},{"lat":40.001526138884806,"lng":116.21551619188801},{"lat":40.002399531016394,"lng":116.21494837981339},{"lat":40.00360042680967,"lng":116.21324494358952},{"lat":40.00447379219549,"lng":116.21154150736562},{"lat":40.007312151924715,"lng":116.21040588321638},{"lat":40.00807630537429,"lng":116.21125760132833},{"lat":40.00862212398794,"lng":116.20955416510445},{"lat":40.01036871398955,"lng":116.20955416510445},{"lat":40.01025955343417,"lng":116.2084185409552}]},{"type":"rectangle","point":{"sw":{"lat":39.991744538249854,"lng":116.2391595634288},"ne":{"lat":40.02641159036466,"lng":116.26850879145013},"minX":116.2391595634288,"minY":39.991744538249854,"maxX":116.26850879145013,"maxY":40.02641159036466}},{"type":"polygon","point":[{"lat":40.024739898308916,"lng":116.30886208360711},{"lat":40.0244607645927,"lng":116.2971230237335},{"lat":40.0213902177376,"lng":116.28937766464165},{"lat":40.01599316148057,"lng":116.28937766464165},{"lat":40.013106586240035,"lng":116.28941953550563},{"lat":40.01068697337367,"lng":116.29135587527858},{"lat":40.00808113974976,"lng":116.29377629999479},{"lat":40.00512767083915,"lng":116.29067025268272},{"lat":39.99954316048695,"lng":116.29296965616312},{"lat":40.014992513907345,"lng":116.2998678666043},{"lat":40.0064306570061,"lng":116.29817356930296},{"lat":39.99647148354518,"lng":116.30374054615024},{"lat":40.00121856193569,"lng":116.30555586468739},{"lat":40.00615144779487,"lng":116.30446667356512},{"lat":40.01192153757139,"lng":116.30470871603673},{"lat":40.01527168666762,"lng":116.30482973727254},{"lat":40.001963171501124,"lng":116.3103967141198},{"lat":40.00745441426602,"lng":116.31100182029887},{"lat":40.01257296843307,"lng":116.31439041490155},{"lat":40.01601614173403,"lng":116.31765798826844},{"lat":39.99740230944687,"lng":116.31911024309817},{"lat":40.000567021851644,"lng":116.32274088017246},{"lat":40.004755384472986,"lng":116.32383007129476},{"lat":40.01359663283934,"lng":116.32576641106773},{"lat":40.016932614014614,"lng":116.32709764466165},{"lat":40.02056166611327,"lng":116.3264925384826},{"lat":40.023065078744196,"lng":116.3264101627996},{"lat":40.02269289099077,"lng":116.31636540022734}]},{"type":"circle","point":{"lat":39.98158680293606,"lng":116.30169072897074,"radius":1578}},{"type":"marker","point":{"lat":40.013087911169166,"lng":116.21790096276119}},{"type":"marker","point":{"lat":40.014306451771404,"lng":116.25514085885412}},{"type":"marker","point":{"lat":40.01864732444483,"lng":116.30367157450712}},{"type":"marker","point":{"lat":39.986579227845894,"lng":116.30604858915135}},{"type":"marker","point":{"lat":40.006004709746065,"lng":116.30188881352396}},{"type":"marker","point":{"lat":39.99754959628903,"lng":116.25405139380885}},{"type":"marker","point":{"lat":39.9978543033926,"lng":116.22097127334332}},{"type":"marker","point":{"lat":40.006004709746065,"lng":116.3193202542483}},{"type":"marker","point":{"lat":39.98071239930152,"lng":116.29921467204919}},{"type":"marker","point":{"lat":40.00432900535138,"lng":116.29307405088494}},{"type":"marker","point":{"lat":40.00737570977742,"lng":116.20561972043268}},{"type":"marker","point":{"lat":40.00379581798608,"lng":116.2255272180781}},{"type":"marker","point":{"lat":40.01712424292166,"lng":116.2373132490224}},{"type":"marker","point":{"lat":40.00082512583071,"lng":116.27138379225634}},{"type":"marker","point":{"lat":40.00288177273775,"lng":116.29733286878918}},{"type":"marker","point":{"lat":40.00699487921927,"lng":116.3059495468745}},{"type":"marker","point":{"lat":40.00745187563205,"lng":116.31496239406721}},{"type":"marker","point":{"lat":39.981017182119984,"lng":116.28019855489536}},{"type":"marker","point":{"lat":39.991455166422085,"lng":116.3179336623725}},{"type":"marker","point":{"lat":40.01164086572147,"lng":116.28742864110488}}]
			var data = new Array();
			data.push({"type":"polygon","point":[{"lat":39.735960675552896,"lng":119.3500465406564},{"lat":39.73604470126686,"lng":119.34990084422387},{"lat":39.73616607473715,"lng":119.34986441530481},{"lat":39.736287449831075,"lng":119.34992511574973},{"lat":39.736359121450555,"lng":119.35002381248123},{"lat":39.73650848608015,"lng":119.35010878306058},{"lat":39.73658316827242,"lng":119.35014519873376},{"lat":39.73657451893971,"lng":119.35028622466025},{"lat":39.73645316618578,"lng":119.35040762108704},{"lat":39.73635048208996,"lng":119.35041976349659},{"lat":39.736191789505824,"lng":119.3505290213808},{"lat":39.73600509424025,"lng":119.35075967008845},{"lat":39.73592107993705,"lng":119.35080822818497},{"lat":39.73580906243505,"lng":119.35089320410684},{"lat":39.735728506711716,"lng":119.35110505164053},{"lat":39.73562580807362,"lng":119.35128716785408},{"lat":39.735481636745696,"lng":119.35139228116829},{"lat":39.73532934767212,"lng":119.35161220326994},{"lat":39.73503989735382,"lng":119.35169719737847},{"lat":39.734769120408934,"lng":119.35174576551148},{"lat":39.73416405214252,"lng":119.35218660393552},{"lat":39.7339306611441,"lng":119.3523080012597},{"lat":39.73374394768915,"lng":119.35242939784169},{"lat":39.733364177208514,"lng":119.35243369928087},{"lat":39.73312144289848,"lng":119.35226374066514},{"lat":39.73298140353964,"lng":119.35199666452655},{"lat":39.73300007449959,"lng":119.3518267063802},{"lat":39.73312144127995,"lng":119.35171744735808},{"lat":39.733261480398774,"lng":119.35171744646219},{"lat":39.733438862195015,"lng":119.3515353467102},{"lat":39.733644251002154,"lng":119.35140180524412},{"lat":39.73382163293576,"lng":119.35131682343912},{"lat":39.733858975137856,"lng":119.3511832829926},{"lat":39.733905651809074,"lng":119.35092834222165},{"lat":39.73421373410925,"lng":119.35070981533002},{"lat":39.73465251958289,"lng":119.35057626397338},{"lat":39.735035292056594,"lng":119.35057625424254},{"lat":39.735268690149034,"lng":119.35055196727323},{"lat":39.73551142182463,"lng":119.35036985608383},{"lat":39.73577282462358,"lng":119.3501391809841},{"lat":39.73594087056103,"lng":119.35006633141542},{"lat":39.7359782137588,"lng":119.35004204960936},{"lat":39.7359782137588,"lng":119.35004204960936},{"lat":39.73596887802596,"lng":119.3500420502705}]});
			data.push({"type":"polygon","point":[{"lat":39.73309304494028,"lng":119.35234452887373},{"lat":39.73339278184895,"lng":119.35253350796934},{"lat":39.73363802114429,"lng":119.35269886580068},{"lat":39.733873726283036,"lng":119.35287174279878},{"lat":39.73397410479946,"lng":119.3530586632044},{"lat":39.73389286688294,"lng":119.3531482630327},{"lat":39.73380204245744,"lng":119.35325455245417},{"lat":39.73362947880497,"lng":119.35325454772529},{"lat":39.73342966911677,"lng":119.35314825161691},{"lat":39.73304821547354,"lng":119.35294747120201},{"lat":39.73274850256515,"lng":119.35269945502912},{"lat":39.732539611429694,"lng":119.35256954223063},{"lat":39.73221432514496,"lng":119.35250141023278},{"lat":39.73164224454452,"lng":119.35221801791621},{"lat":39.73108832246616,"lng":119.35200547637226},{"lat":39.73067987638268,"lng":119.35186526298433},{"lat":39.73039816271814,"lng":119.35160434918541},{"lat":39.73031642591916,"lng":119.35125008779937},{"lat":39.73035275099579,"lng":119.35091944398899},{"lat":39.7304617310559,"lng":119.35082497336077},{"lat":39.73062962970285,"lng":119.35077265733304},{"lat":39.73081127327654,"lng":119.35081989072548},{"lat":39.73092934187723,"lng":119.35087893503125},{"lat":39.73100200294207,"lng":119.35110331079358},{"lat":39.73112007040984,"lng":119.35113873661679},{"lat":39.73117456126436,"lng":119.3510442608354},{"lat":39.73126537968923,"lng":119.35094978441967},{"lat":39.73156216131966,"lng":119.35115153113765},{"lat":39.73165297939481,"lng":119.35129322959271},{"lat":39.73195301980399,"lng":119.35148555051751},{"lat":39.732161880321584,"lng":119.3516036217065},{"lat":39.7323707383563,"lng":119.35166265424948},{"lat":39.732497867727076,"lng":119.35166264975248},{"lat":39.7326407723309,"lng":119.35181318099569},{"lat":39.732886006126705,"lng":119.3519548983619},{"lat":39.73310399570568,"lng":119.35229739467316}]});
			data.push({"type":"polygon","point":[{"lat":39.73053833734282,"lng":119.35050525941163},{"lat":39.731052524721015,"lng":119.35065862096211},{"lat":39.73127843211354,"lng":119.35079850227447},{"lat":39.73156397604735,"lng":119.35115195643638},{"lat":39.73190855612955,"lng":119.35145556339315},{"lat":39.732351853299164,"lng":119.35165696452724},{"lat":39.73259387221442,"lng":119.35176359619105},{"lat":39.73304297784069,"lng":119.35174169084101},{"lat":39.73343030031904,"lng":119.35155983172498},{"lat":39.73361320569976,"lng":119.35129402225479},{"lat":39.7336992805299,"lng":119.35105618931908},{"lat":39.73388393809479,"lng":119.35063844609867},{"lat":39.733894699036185,"lng":119.35023280096225},{"lat":39.73374410326998,"lng":119.35012089651025},{"lat":39.73351872015815,"lng":119.35009088971282},{"lat":39.73297014708717,"lng":119.35023075022981},{"lat":39.7327254242981,"lng":119.35027289787978},{"lat":39.73254253265258,"lng":119.3505526792055},{"lat":39.73212296135891,"lng":119.35060862755994},{"lat":39.731805460521684,"lng":119.35056681878201},{"lat":39.73143970633809,"lng":119.35023109585546},{"lat":39.73082652518562,"lng":119.349951327485},{"lat":39.73062213081531,"lng":119.34986739747202},{"lat":39.73041773059907,"lng":119.3503010231583},{"lat":39.73055757875642,"lng":119.35048286945292}]});
			data.push({"type":"polygon","point":[{"lat":39.733496122180455,"lng":119.34947590880455},{"lat":39.733392156886076,"lng":119.34921680228945},{"lat":39.73316690583592,"lng":119.34920554212233},{"lat":39.733010963723295,"lng":119.34932946566754},{"lat":39.73267308707121,"lng":119.34935200316745},{"lat":39.73252580623289,"lng":119.349228085832},{"lat":39.73219659170544,"lng":119.34917176498338},{"lat":39.731856901223146,"lng":119.34924183513759},{"lat":39.731785040465155,"lng":119.34929830175591},{"lat":39.73130425142741,"lng":119.3495097391139},{"lat":39.73133890886084,"lng":119.34984769590002},{"lat":39.731659462025604,"lng":119.35015185507461},{"lat":39.731919368579874,"lng":119.35034336393717},{"lat":39.732135956408,"lng":119.35023070957877},{"lat":39.732361205947555,"lng":119.34994907385445},{"lat":39.732621110977924,"lng":119.3499152752128},{"lat":39.7328463628419,"lng":119.34997160051189},{"lat":39.73298497865333,"lng":119.34991527172899},{"lat":39.73326220887008,"lng":119.34971248891358},{"lat":39.73342681578801,"lng":119.34968995575291}]});
			data.push({"type":"polygon","point":[{"lat":39.73570845583418,"lng":119.344350840104},{"lat":39.7355879591228,"lng":119.34397032839144},{"lat":39.73537279585317,"lng":119.34383603983436},{"lat":39.73527812937627,"lng":119.34402630294365},{"lat":39.73510600678547,"lng":119.34429490992991},{"lat":39.73502855670312,"lng":119.3447425750721},{"lat":39.73486504116114,"lng":119.3450895168524},{"lat":39.734733005798454,"lng":119.34510111588014},{"lat":39.73450929252319,"lng":119.34526895743639},{"lat":39.73418232590131,"lng":119.34547036590669},{"lat":39.73392419527692,"lng":119.3457165260126},{"lat":39.733743505242984,"lng":119.34605219331674},{"lat":39.733597230589595,"lng":119.34615289392337},{"lat":39.733227241685235,"lng":119.34630953998378},{"lat":39.732908877918284,"lng":119.34639905157464},{"lat":39.73271958099245,"lng":119.3465668822709},{"lat":39.732427030743594,"lng":119.34671233544363},{"lat":39.732134478781994,"lng":119.34668995914421},{"lat":39.731790299624535,"lng":119.34682422152767},{"lat":39.731618209770005,"lng":119.34698086047776},{"lat":39.731589510993864,"lng":119.3472146703119},{"lat":39.73210584264949,"lng":119.34727062163242},{"lat":39.73254472293869,"lng":119.34732657380188},{"lat":39.732880336120765,"lng":119.34737133549737},{"lat":39.733425937632,"lng":119.3472629690249},{"lat":39.73394218497113,"lng":119.34709514551554},{"lat":39.73434657877532,"lng":119.34677068063907},{"lat":39.73480148346727,"lng":119.34618633738386},{"lat":39.73516627225182,"lng":119.34594006217513},{"lat":39.73538142990127,"lng":119.34572741896712},{"lat":39.73557076770743,"lng":119.34541405083877},{"lat":39.73568264715619,"lng":119.34506710782364}]});
			data.push({"type":"polygon","point":[{"lat":39.735887571098345,"lng":119.3430591875527},{"lat":39.73570497562025,"lng":119.34288959641073},{"lat":39.7354441332968,"lng":119.34295745020869},{"lat":39.735235460433955,"lng":119.34304226032916},{"lat":39.7349876650105,"lng":119.34329666960816},{"lat":39.73483116348747,"lng":119.34350019284368},{"lat":39.734713788121375,"lng":119.34370371395832},{"lat":39.73431211206512,"lng":119.34397468454142},{"lat":39.73415360446008,"lng":119.34409629977297},{"lat":39.7339312708713,"lng":119.34438212136894},{"lat":39.73360522311362,"lng":119.3448061139969},{"lat":39.73334438217508,"lng":119.34497571215613},{"lat":39.73308353917464,"lng":119.34499267580112},{"lat":39.73278086061132,"lng":119.34504186052374},{"lat":39.73263740538098,"lng":119.34538103023492},{"lat":39.73262706781283,"lng":119.34582368015322},{"lat":39.732837584559,"lng":119.34604332581536},{"lat":39.73336553729521,"lng":119.34596827876439},{"lat":39.73382685804078,"lng":119.34573706234664},{"lat":39.734061477689835,"lng":119.34553348849897},{"lat":39.734253644926895,"lng":119.3454264893508},{"lat":39.734445537324184,"lng":119.3451793199135},{"lat":39.73464870222741,"lng":119.34504390906659},{"lat":39.73508735202411,"lng":119.34440325408828},{"lat":39.73510609653352,"lng":119.34429490992984},{"lat":39.735278219113674,"lng":119.34402630294358},{"lat":39.73537288558475,"lng":119.34383603983429},{"lat":39.73548150829083,"lng":119.3438042619358},{"lat":39.735552970189055,"lng":119.34375776494505},{"lat":39.73580932628759,"lng":119.34341535221674},{"lat":39.735887571098345,"lng":119.3430591875527}]});
			data.push({"type":"polygon","point":[{"lat":39.73728037306737,"lng":119.3401604823525},{"lat":39.737056672476406,"lng":119.33979129032674},{"lat":39.73675554747302,"lng":119.33967943594331},{"lat":39.73646303483727,"lng":119.33981371854874},{"lat":39.7358177913771,"lng":119.34016059761984},{"lat":39.735508075836705,"lng":119.34033962544856},{"lat":39.73499189137725,"lng":119.34082073115516},{"lat":39.73469079214952,"lng":119.34138012810895},{"lat":39.73420902866027,"lng":119.34223039588585},{"lat":39.73393373622498,"lng":119.34289045785464},{"lat":39.73312627278286,"lng":119.34479226369749},{"lat":39.73323286164815,"lng":119.34498297061819},{"lat":39.73323293695904,"lng":119.34498296572042},{"lat":39.73344925781445,"lng":119.34490758068462},{"lat":39.73345424222594,"lng":119.34490433983191},{"lat":39.73452028829782,"lng":119.34354697035754},{"lat":39.7347031953321,"lng":119.34338188507735},{"lat":39.734926755560465,"lng":119.3431397982978},{"lat":39.73507968869054,"lng":119.34272998535296},{"lat":39.73522599286934,"lng":119.34249495926214},{"lat":39.73526041140297,"lng":119.34211444585527},{"lat":39.73550998628352,"lng":119.3416667709252},{"lat":39.73582841221872,"lng":119.34124147062302},{"lat":39.73607591487007,"lng":119.34096610760942},{"lat":39.73624797980366,"lng":119.34087659388751},{"lat":39.736411439567284,"lng":119.34070876466805},{"lat":39.73660071231232,"lng":119.3406192479761},{"lat":39.73694485163276,"lng":119.34070872719792},{"lat":39.73714272842561,"lng":119.34061920831266},{"lat":39.737271777733966,"lng":119.34048494066386},{"lat":39.73728037306737,"lng":119.3401604823525}]});
			data.push({"type":"polygon","point":[{"lat":39.73750540736597,"lng":119.34119960743367},{"lat":39.7375054055741,"lng":119.34102860794803},{"lat":39.73747253164543,"lng":119.3410286087947},{"lat":39.737368160914,"lng":119.34082862274946},{"lat":39.736918947950585,"lng":119.34101386022616},{"lat":39.73639744239107,"lng":119.34111172003345},{"lat":39.73596979701926,"lng":119.34124602117409},{"lat":39.73555197783673,"lng":119.34151664229036},{"lat":39.73534245101244,"lng":119.34194646813002},{"lat":39.73523174323226,"lng":119.34243237836236},{"lat":39.735247249593264,"lng":119.34228569112315},{"lat":39.735226082609984,"lng":119.34249495926207},{"lat":39.735176009926306,"lng":119.34257539707268},{"lat":39.73523390518182,"lng":119.34268338693161},{"lat":39.73539492991349,"lng":119.34297748422185},{"lat":39.735444223023975,"lng":119.34295745020862},{"lat":39.7357050653313,"lng":119.34288959641066},{"lat":39.73573101260982,"lng":119.34291369574166},{"lat":39.73608088602615,"lng":119.3422968587169},{"lat":39.73639866359669,"lng":119.34201186345896},{"lat":39.73682602078318,"lng":119.34176961393365},{"lat":39.73727529370281,"lng":119.34152736002964},{"lat":39.73750540736597,"lng":119.34119960743367}]});
			data.push({"type":"polygon","point":[{"lng":119.34223155813191,"lat":39.73606145378472},{"lng":119.3428424058787,"lat":39.735811765086595},{"lng":119.34359698250708,"lat":39.7357007920392},{"lng":119.34399223693147,"lat":39.735631433793124},{"lng":119.34463901689867,"lat":39.73564530544797},{"lng":119.34508816965365,"lat":39.735631433793124},{"lng":119.34587867850243,"lat":39.73554820380495},{"lng":119.34690274678381,"lat":39.73543723032981},{"lng":119.3470644417756,"lat":39.73527076977939},{"lng":119.34742376397959,"lat":39.735173667604506},{"lng":119.34785495062438,"lat":39.735312384954995},{"lng":119.34798071339578,"lat":39.735520460453046},{"lng":119.34794478117539,"lat":39.7356591771},{"lng":119.34774715396318,"lat":39.73575627858541},{"lng":119.3476573234122,"lat":39.73588112314975},{"lng":119.3474417300898,"lat":39.73593660954963},{"lng":119.3472081706572,"lat":39.73601983906501},{"lng":119.34674105179201,"lat":39.736047582214304},{"lng":119.34634579736762,"lat":39.736047582214304},{"lng":119.34596850905344,"lat":39.736103068479096},{"lng":119.34557325462904,"lat":39.736269527003316},{"lng":119.34516003409445,"lat":39.73631114157106},{"lng":119.34431562691508,"lat":39.73633888460214},{"lng":119.34386647416008,"lat":39.73632501308801},{"lng":119.34278850754811,"lat":39.73631114157106},{"lng":119.34210579536052,"lat":39.73628339852871},{"lng":119.34210579536052,"lat":39.73628339852871},{"lng":119.34212376147072,"lat":39.73620016933414}]});
			data.push({"type":"polygon","point":[{"lng":119.3472441028776,"lat":39.73620016933414},{"lng":119.34674105179201,"lat":39.736130811594606},{"lng":119.34611223793503,"lat":39.73618629779186},{"lng":119.34523189853525,"lat":39.73638049912767},{"lng":119.34415393192327,"lat":39.73638049912767},{"lng":119.34374071138868,"lat":39.73643598512231},{"lng":119.3430759653113,"lat":39.73638049912767},{"lng":119.34257291422571,"lat":39.73632501308801},{"lng":119.34221359202172,"lat":39.73625565547511},{"lng":119.34198003258912,"lat":39.736533085504576},{"lng":119.34176443926673,"lat":39.736782771568635},{"lng":119.34160274427494,"lat":39.73718504164289},{"lng":119.34147698150353,"lat":39.73769827933598},{"lng":119.34162071038513,"lat":39.73793408995733},{"lng":119.34212376147072,"lat":39.73786473397665},{"lng":119.3427346092175,"lat":39.73746246790135},{"lng":119.3429502025399,"lat":39.73728214096139},{"lng":119.34347121973569,"lat":39.73718504164289},{"lng":119.34438749135587,"lat":39.737171170300414},{"lng":119.34582478017184,"lat":39.73693535704782},{"lng":119.34670511957161,"lat":39.736699542981924},{"lng":119.3470285095552,"lat":39.736491471071915}]});
			data.push({"type":"polygon","point":[{"lng":119.34196206647893,"lat":39.73793408995733},{"lng":119.34203393091973,"lat":39.73819764204224},{"lng":119.3425549481155,"lat":39.73850280634506},{"lng":119.3430220669807,"lat":39.73871087213423},{"lng":119.34377664360908,"lat":39.73900216317528},{"lng":119.34426172858447,"lat":39.739154743701484},{"lng":119.34485461022106,"lat":39.73925184022267},{"lng":119.34505223743325,"lat":39.73940442019167},{"lng":119.34537562741684,"lat":39.73947377461046},{"lng":119.34578884795144,"lat":39.73951538722796},{"lng":119.34613020404522,"lat":39.73951538722796},{"lng":119.34679495012261,"lat":39.73948764548577},{"lng":119.3473339334286,"lat":39.73941829108105},{"lng":119.3475854589714,"lat":39.73927958206055},{"lng":119.34769325563259,"lat":39.73900216317528},{"lng":119.3475854589714,"lat":39.73886345331051},{"lng":119.34745969619999,"lat":39.73872474316432},{"lng":119.34738783175919,"lat":39.738572161678476},{"lng":119.3471183401062,"lat":39.738488935269935},{"lng":119.34668715346142,"lat":39.73844732202768},{"lng":119.34632783125743,"lat":39.73844732202768},{"lng":119.34593257683304,"lat":39.73851667741737},{"lng":119.34571698351064,"lat":39.738599903792135},{"lng":119.34533969519644,"lat":39.738627645894546},{"lng":119.34463901689867,"lat":39.73854441955355},{"lng":119.34415393192327,"lat":39.73847506419201},{"lng":119.34383054193968,"lat":39.7384334509413},{"lng":119.34366884694788,"lat":39.7384195798521},{"lng":119.34338138918469,"lat":39.7384057087601},{"lng":119.34323766030309,"lat":39.7384057087601},{"lng":119.3430220669807,"lat":39.73833635325783}]});
			data.push({"type":"polygon","point":[{"lng":119.34781901840398,"lat":39.738488935269935},{"lng":119.34749562842039,"lat":39.73855829061742},{"lng":119.3472441028776,"lat":39.73855829061742},{"lng":119.34701054344501,"lat":39.73851667741737},{"lng":119.34675901790222,"lat":39.73850280634506},{"lng":119.34641766180842,"lat":39.73850280634506},{"lng":119.34611223793503,"lat":39.73855829061742},{"lng":119.34573494962083,"lat":39.73855829061742},{"lng":119.34526783075565,"lat":39.73854441955355},{"lng":119.34474681355987,"lat":39.738488935269935},{"lng":119.34427969469468,"lat":39.7384195798521},{"lng":119.34379460971928,"lat":39.73833635325783},{"lng":119.34352511806628,"lat":39.73828086880537},{"lng":119.34330952474389,"lat":39.738225384307874},{"lng":119.3430759653113,"lat":39.73811441517781},{"lng":119.3430579992011,"lat":39.737795377925636},{"lng":119.3431478297521,"lat":39.73760118060846},{"lng":119.34352511806628,"lat":39.737531824290095},{"lng":119.34390240638048,"lat":39.73757343808955},{"lng":119.34417189803348,"lat":39.73771215057153},{"lng":119.34458511856806,"lat":39.73780924914146},{"lng":119.34476477967006,"lat":39.73787860517841},{"lng":119.34526783075565,"lat":39.737975703511964},{"lng":119.34560918684944,"lat":39.73798957469121},{"lng":119.34614817015543,"lat":39.7381005440239},{"lng":119.34643562791862,"lat":39.7381005440239},{"lng":119.3471183401062,"lat":39.7381005440239},{"lng":119.34745969619999,"lat":39.738128286328916},{"lng":119.34794478117539,"lat":39.73814215747721}]});
			data.push({"type":"polygon","point":[{"lng":119.34377664360908,"lat":39.73744859661517},{"lng":119.34397427082128,"lat":39.737628923116105},{"lng":119.34429766080487,"lat":39.73768440809764},{"lng":119.34471088133947,"lat":39.73773989303415},{"lng":119.34530376297604,"lat":39.73776763548552},{"lng":119.34557325462904,"lat":39.737836991564684},{"lng":119.34569901740043,"lat":39.73793408995733},{"lng":119.34643562791862,"lat":39.73801731704126},{"lng":119.34677698401241,"lat":39.73798957469121},{"lng":119.3471542723266,"lat":39.73798957469121},{"lng":119.347369865649,"lat":39.73798957469121},{"lng":119.34767528952239,"lat":39.73798957469121},{"lng":119.34803461172638,"lat":39.737947961145025},{"lng":119.34832206948957,"lat":39.737961832329894},{"lng":119.34846579837117,"lat":39.73785086277208},{"lng":119.34844783226097,"lat":39.73760118060846},{"lng":119.34844783226097,"lat":39.73744859661517},{"lng":119.34832206948957,"lat":39.73735149753305},{"lng":119.34816037449778,"lat":39.73732375491282},{"lng":119.34803461172638,"lat":39.73728214096139},{"lng":119.34769325563259,"lat":39.73719891298254},{"lng":119.34749562842039,"lat":39.73735149753305},{"lng":119.3471363062164,"lat":39.737406982739714},{"lng":119.34683088234301,"lat":39.73733762622434},{"lng":119.34638172958802,"lat":39.73728214096139},{"lng":119.34596850905344,"lat":39.737268269638626},{"lng":119.34559122073924,"lat":39.73725439831304},{"lng":119.34492647466186,"lat":39.737296012281355},{"lng":119.34460308467827,"lat":39.737226655653416},{"lng":119.34426172858447,"lat":39.73724052698463},{"lng":119.34395630471107,"lat":39.737296012281355},{"lng":119.34365088083769,"lat":39.73735149753305}]});
			data.push({"type":"polygon","point":[{"lng":119.34860952725276,"lat":39.73725439831304},{"lng":119.34842986615077,"lat":39.737434725326175},{"lng":119.34841190004057,"lat":39.73760118060846},{"lng":119.34848376448137,"lat":39.73782312035448},{"lng":119.34826817115898,"lat":39.7379063475735},{"lng":119.34812444227738,"lat":39.738031188212084},{"lng":119.34807054394678,"lat":39.73825312656225},{"lng":119.34803461172638,"lat":39.7385860327367},{"lng":119.34816037449778,"lat":39.738738614191604},{"lng":119.34816037449778,"lat":39.739043776079825},{"lng":119.34816037449778,"lat":39.73954312895889},{"lng":119.34825020504877,"lat":39.73965409577006},{"lng":119.34842986615077,"lat":39.73975119158206},{"lng":119.34873529002417,"lat":39.73975119158206},{"lng":119.34898681556696,"lat":39.73973732076022},{"lng":119.34920240888935,"lat":39.7396957082778},{"lng":119.34936410388114,"lat":39.739667966608785},{"lng":119.34941800221175,"lat":39.73954312895889},{"lng":119.34927427333015,"lat":39.73927958206055},{"lng":119.34923834110975,"lat":39.73898829220147},{"lng":119.34920240888935,"lat":39.73871087213423},{"lng":119.34918444277915,"lat":39.738488935269935},{"lng":119.34913054444856,"lat":39.73816989976536},{"lng":119.34913054444856,"lat":39.73778150670698},{"lng":119.34911257833835,"lat":39.737531824290095},{"lng":119.34898681556696,"lat":39.7373098835985},{"lng":119.34880715446496,"lat":39.737226655653416}]});
			data.push({"type":"polygon","point":[{"lng":119.35035223994213,"lat":39.739820545649074},{"lng":119.35056783326452,"lat":39.73955699982014},{"lng":119.35085529102771,"lat":39.73937667840445},{"lng":119.3512505454521,"lat":39.73919635651317},{"lng":119.35178952875809,"lat":39.739043776079825},{"lng":119.35205902041108,"lat":39.73890506629948},{"lng":119.35256207149666,"lat":39.7385860327367},{"lng":119.35310105480265,"lat":39.73835022436391},{"lng":119.35396342809223,"lat":39.738183770905216},{"lng":119.35459224194922,"lat":39.73808667286715},{"lng":119.354933598043,"lat":39.738225384307874},{"lng":119.3551671574756,"lat":39.73839183766527},{"lng":119.35505936081441,"lat":39.738627645894546},{"lng":119.35491563193281,"lat":39.73872474316432},{"lng":119.35214885096208,"lat":39.739501516358274},{"lng":119.35171766431729,"lat":39.73962635408415},{"lng":119.3510888504603,"lat":39.73979280403072},{"lng":119.35078342658691,"lat":39.73987602885203},{"lng":119.35049596882372,"lat":39.73988989964574}]});
			data.push({"type":"polygon","point":[{"lng":119.3554186830184,"lat":39.73886345331051},{"lng":119.3552569880266,"lat":39.73851667741737},{"lng":119.35505936081441,"lat":39.7379063475735},{"lng":119.3548617336022,"lat":39.737171170300414},{"lng":119.35477190305122,"lat":39.736699542981924},{"lng":119.35461020805941,"lat":39.73624178394408},{"lng":119.35468207250021,"lat":39.73578402184163},{"lng":119.3548258013818,"lat":39.735173667604506},{"lng":119.35505936081441,"lat":39.73503494997262},{"lng":119.3554186830184,"lat":39.735173667604506},{"lng":119.35554444578979,"lat":39.73535400010526},{"lng":119.35550851356939,"lat":39.73582563670485},{"lng":119.3555983441204,"lat":39.73617242624677},{"lng":119.3556702085612,"lat":39.73642211362787},{"lng":119.35574207300199,"lat":39.73674115728794},{"lng":119.35572410689178,"lat":39.7372127843194},{"lng":119.35570614078159,"lat":39.737670536856484},{"lng":119.35574207300199,"lat":39.73805893054524},{"lng":119.35572410689178,"lat":39.738364095467176},{"lng":119.35574207300199,"lat":39.73861377484475},{"lng":119.35572410689178,"lat":39.73889119530598},{"lng":119.3555264796796,"lat":39.73893280827808}]});
			data.push({"type":"polygon","point":[{"lng":119.35405325864323,"lat":39.735104308823736},{"lng":119.35399936031263,"lat":39.73545110202405},{"lng":119.35389156365143,"lat":39.73599209590448},{"lng":119.35383766532084,"lat":39.736616314293904},{"lng":119.35369393643924,"lat":39.73708794218649},{"lng":119.35320885146385,"lat":39.737406982739714},{"lng":119.35288546148026,"lat":39.73758730935041},{"lng":119.35231952900897,"lat":39.73786820177736},{"lng":119.35199613902537,"lat":39.7379514289415},{"lng":119.35161885071119,"lat":39.73793755775451},{"lng":119.351331392948,"lat":39.73807626949776},{"lng":119.3511337657358,"lat":39.73828433658497},{"lng":119.35086427408281,"lat":39.73842304762467},{"lng":119.35072054520121,"lat":39.73861724260746},{"lng":119.35072054520121,"lat":39.73881143703866},{"lng":119.35082834186241,"lat":39.738936276024596},{"lng":119.350972070744,"lat":39.73906111478259},{"lng":119.3511157996256,"lat":39.73915821143675},{"lng":119.3512595285072,"lat":39.73918595331262},{"lng":119.35145715571939,"lat":39.73918595331262},{"lng":119.35181647792338,"lat":39.739074985741624},{"lng":119.35196020680497,"lat":39.7387698239927},{"lng":119.35219376623758,"lat":39.7385340162538},{"lng":119.35262495288237,"lat":39.73839530543925},{"lng":119.35291241064556,"lat":39.73839530543925},{"lng":119.35323580062915,"lat":39.738353692139995},{"lng":119.35361308894335,"lat":39.73820110982607},{"lng":119.35402630947793,"lat":39.73793755775451},{"lng":119.35431376724112,"lat":39.73767400466703},{"lng":119.35456529278392,"lat":39.73743819314868},{"lng":119.35458325889412,"lat":39.737243994817},{"lng":119.35470902166551,"lat":39.736827853677475},{"lng":119.35461919111452,"lat":39.736411710005186},{"lng":119.35447546223293,"lat":39.73580136137105},{"lng":119.35447546223293,"lat":39.73539908315613},{"lng":119.35443953001253,"lat":39.73510777676445},{"lng":119.35429580113093,"lat":39.73499680257451}]});
			data.push({"type":"polygon","point":[{"lng":119.34964257858924,"lat":39.73981014254351},{"lng":119.34976834136063,"lat":39.73921369517723},{"lng":119.34976834136063,"lat":39.73882530804837},{"lng":119.34976834136063,"lat":39.738048527171635},{"lng":119.35003783301363,"lat":39.73761851967706},{"lng":119.35057681631962,"lat":39.73747980700513},{"lng":119.3511876640664,"lat":39.737382707967335},{"lng":119.3512595285072,"lat":39.73764626217767},{"lng":119.35124156239699,"lat":39.73796530012567},{"lng":119.35090020630321,"lat":39.73836756324256},{"lng":119.350702579091,"lat":39.73856175838295},{"lng":119.35057681631962,"lat":39.738714339892006},{"lng":119.35063071465021,"lat":39.73882530804837},{"lng":119.35075647742161,"lat":39.73904724382074},{"lng":119.3508103757522,"lat":39.73921369517723},{"lng":119.3508103757522,"lat":39.739394017022775},{"lng":119.35021749411563,"lat":39.73968530515324},{"lng":119.35001986690342,"lat":39.73979627173363}]});
			var ctx = document.getElementById("canvas").getContext("2d");
			var BMapGL = {
				config: {
					Bounds:{maxX:0, maxY:0, minX:1000, minY:1000}, 
					ratio:1, 
					minX:1000, 
					minY:1000,
					setX:function(x){
						if(this.Bounds.minX > x){
							this.Bounds.minX = x;
						}
						if(this.Bounds.maxX < x){
							this.Bounds.maxX = x;
						}
						this.sw = {"lat":minY,"lng":minX};
						this.ne = {"lat":maxY,"lng":maxX};
					},
					setY:function(y){
						if(this.Bounds.minY > y){
							this.Bounds.minY = y;
						}
						if(this.Bounds.maxY < y){
							this.Bounds.maxY = y;
						}
					},
					toxy:function(lng, lat){
						return {
							x:(lng - this.Bounds.minX) * 10000,
							y:(lat - this.Bounds.minY) * 10000
						}
					},
					getWidth:function(){
						
					},
					getHeight:function(){
						
					}
				},
				Bounds: function(minX, minY, maxX, maxY){
					//"sw":{"lat":40.04901378768745,"lng":116.06479983943217},"ne":{"lat":40.06668555618903,"lng":116.08779646048761},"minX":116.06479983943217,"minY":40.04901378768745,"maxX":116.08779646048761,"maxY":40.06668555618903}
					var that = this;
					this.sw = {"lat":minY,"lng":minX};
					this.ne = {"lat":maxY,"lng":maxX};
					this.minX = minX;
					this.minY = minY;
					this.maxX = maxX;
					this.maxY = maxY;
					this.getSouthWest = function(){return that.sw}
					this.getNorthEast = function(){return that.ne}
				},
				Polygon: function(points){
					var that = this;
					this.points = points;
					this.getPath =  function(){return that.points};
					if(points.length > 0){
						this.maxX = points[0].lng;
						this.maxY = points[0].lat;
						this.minX = points[0].lng;
						this.minY = points[0].lat;
					}
					points.forEach(function(point, j){
						if(that.maxX < point.lng){
							that.maxX = point.lng;
						}
						if(that.maxY < point.lat){
							that.maxY = point.lat;
						}
						if(that.minX > point.lng){
							that.minX = point.lng;
						}
						if(that.minY > point.lat){
							that.minY = point.lat;
						}
					})
					this.getBounds = function(){
						return new BMapGL.Bounds(this.minX, this.minY, this.maxX, this.maxY);
					}
				},
				Point: function(lng, lat){
					this.lng = lng;
					this.lat = lat;
					this.toString = function(){return "Point"};
					this.equals = function(e){return(this.lat===e.lat&&this.lng===e.lng)}
				},
				Circle: function(point, radius){
					this.point = point;
					this.radius = radius;
					this.getRadius = function(){return this.radius;}
					this.getCenter = function(){return this.point;}
				}
			};
			var testpoints = new Array();
			data.forEach(function(overlay, i){
				switch(overlay.type) {
					case 'marker': {
						//overlay.point = e.overlay.getPosition();
						testpoints.push(overlay.point);
						break;
					}
					case 'polyline': {
						overlay.polyline = new BMapGL.Polygon(overlay.point);
						var bounds = overlay.polyline.getBounds()
						scope.setX(bounds.minX);
						scope.setY(bounds.minY);
						scope.setX(bounds.maxX);
						scope.setY(bounds.maxY);
						break;
					}
					case 'rectangle': {
						//ctx.fillStyle="#FF0000";
						//overlay.point = e.overlay.getBounds();
						var bounds = overlay.polyline.getBounds()
						scope.setX(overlay.point.minX);
						scope.setY(overlay.point.minY);
						scope.setX(overlay.point.maxX);
						scope.setY(overlay.point.maxY);
						break;
					}
					case 'polygon': {
						overlay.point.forEach(function(point, j){
							scope.setX(point.lng);
							scope.setY(point.lat);
						})
						break;
					}
					case 'circle': {
						//中心点
						overlay.polyline = new BMapGL.Circle(overlay.point, overlay.radius);
						var r = overlay.point.radius / 111000;
						scope.setX(overlay.point.lng - r);
						scope.setY(overlay.point.lat - r);
						scope.setX(overlay.point.lng + r);
						scope.setY(overlay.point.lat + r);
						break;
					}
				}
			});
			scope.width = (scope.bound.maxX - scope.bound.minX) * 10000;
			scope.height = (scope.bound.maxY - scope.bound.minY) * 10000;
			document.getElementById("canvas").width = scope.width;
			document.getElementById("canvas").height = scope.height;
			//alert(JSON.stringify(scope));
			//ctx.fillRect(100, 100, 200, 200);
			var sum = 1;
			data.forEach(function(overlay, i){
				switch(overlay.type) {
					case 'marker': {
						//overlay.point = e.overlay.getPosition();
						break;
					}
					case 'polyline': {
						//overlay.point = e.overlay.getPath();
						overlay.point.forEach(function(point, j){
							var p = scope.toxy(point.lng, point.lat);
							if(j == 0){
								ctx.fillText(sum++, p.x, p.y);
								ctx.beginPath();
								ctx.moveTo(p.x, p.y);
							} else {
								ctx.lineTo(p.x, p.y);
							}
						})
						ctx.closePath();
						//ctx.fill("#666666");
						ctx.stroke();
						break;
					}
					case 'rectangle': {
						//overlay.point = e.overlay.getBounds();
						var minP = scope.toxy(overlay.point.minX, overlay.point.minY);
						var maxP = scope.toxy(overlay.point.maxX, overlay.point.maxY);
						ctx.fillText(sum++, minP.x, minP.y);
						ctx.fillRect(minP.x, minP.y, maxP.x - minP.x, maxP.y - minP.y);
						break;
					}
					case 'polygon': {
						overlay.point.forEach(function(point, j){
							var p = scope.toxy(point.lng, point.lat);
							if(j == 0){
								ctx.fillText(sum++, p.x, p.y);
								ctx.beginPath();
								ctx.moveTo(p.x, p.y);
							} else {
								ctx.lineTo(p.x, p.y);
							}
						})
						ctx.closePath();
						//ctx.fill("#999999");
						ctx.stroke();
						break;
					}
					case 'circle': {
						//中心点
						var d = overlay.point.radius / 111000;
						var p = scope.toxy(overlay.point.lng, overlay.point.lat);
						ctx.fillText(sum++, p.x, p.y);
						ctx.beginPath();
						ctx.arc(p.x, p.y, d * 10000, 0, Math.PI * 2, false);
						ctx.stroke();
						break;
					}
				}
			});
			//var point = {"lat":40.04168004888395,"lng":116.06489492440209};
			
			
			

			
			
			
			var weizhi = function(point){
				var pt = new BMapGL.Point(point.lng, point.lat);
				data.forEach(function(overlay, i){
					switch(overlay.type) {
						case 'polyline': {
							//overlay.point = e.overlay.getPath();
							var polygon = new BMapGL.Polygon(overlay.point);
							var result = BMapGLLib.GeoUtils.isPointInPolygon(pt, polygon);
							if(result){
								if(overlay.sum){
									overlay.sum++;
								} else {
									overlay.sum = 1;
								}
							}
							break;
						}
						case 'rectangle': {
							var bounds = new BMapGL.Bounds(overlay.point.minX, overlay.point.minY, overlay.point.maxX, overlay.point.maxY);
							var result = BMapGLLib.GeoUtils.isPointInRect(pt, bounds);
							if(result){
								if(overlay.sum){
									overlay.sum++;
								} else {
									overlay.sum = 1;
								}
							}
							break;
						}
						case 'polygon': {
							var polygon = new BMapGL.Polygon(overlay.point);
							var result = BMapGLLib.GeoUtils.isPointInPolygon(pt, polygon);
							if(result){
								if(overlay.sum){
									overlay.sum++;
								} else {
									overlay.sum = 1;
								}
							}
							break;
						}
						case 'circle': {
							//中心点
							var circle = new BMapGL.Circle(overlay.point, overlay.radius);
							var result = BMapGLLib.GeoUtils.isPointInCircle(pt, circle);
							if(result){
								if(overlay.sum){
									overlay.sum++;
								} else {
									overlay.sum = 1;
								}
							}
							break;
						}
					}
				});
			}
			/*
			var bounds = new BMapGL.Bounds(100, 100, 200, 200);
			var pt = new BMapGL.Point(150, 150);
			var result = BMapGLLib.GeoUtils.isPointInRect(pt, bounds);
			alert(result);
			*/
			var huapoint = function(point, text){
				var p = scope.toxy(point.lng, point.lat);
				ctx.fillStyle = "#00ff00";
				ctx.beginPath();
				ctx.arc(p.x, p.y, 10, 0, Math.PI * 2, false);
				ctx.stroke();
				ctx.beginPath();
				ctx.arc(p.x, p.y, 1, 0, Math.PI * 2, false);
				ctx.stroke();
				ctx.fillText(text, p.x - 5, p.y + 5);
			}
			//测试多边型
			testpoints.forEach(function(point, j){
				weizhi(point);
				huapoint(point, j + 1);
				
			})
			
			data.forEach(function(overlay, i){
				switch(overlay.type) {
					case 'marker': {
						//overlay.point = e.overlay.getPosition();
						break;
					}
					case 'polyline': {
						//overlay.point = e.overlay.getPath();
						if(overlay.point.length > 0){
							var point = overlay.point[0];
							var p = scope.toxy(point.lng, point.lat);
							ctx.fillText("/" + overlay.sum, p.x + 6, p.y);
						}						
						break;
					}
					case 'rectangle': {
						//overlay.point = e.overlay.getBounds();
						var minP = scope.toxy(overlay.point.minX, overlay.point.minY);
						ctx.fillText("/" + overlay.sum, minP.x + 6, minP.y);
						break;
					}
					case 'polygon': {
						if(overlay.point.length > 0){
							var point = overlay.point[0];
							var p = scope.toxy(point.lng, point.lat);
							ctx.fillText("/" + overlay.sum, p.x + 6, p.y);
						}
						break;
					}
					case 'circle': {
						//中心点
						var p = scope.toxy(overlay.point.lng, overlay.point.lat);
						ctx.fillText("/" + overlay.sum, p.x + 6, p.y);
						break;
					}
				}
			});
		</script>
	</body>

</html>
